<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Little Bug</title>
			<script type="text/javascript" src="js/amisc.js"></script>
			<script type="text/javascript" src="js/Point.js"></script>
			<script type="text/javascript" src="js/Grid.js"></script>
			<script type="text/javascript" src="js/Terrarium.js"></script>
			<script type="text/javascript" src="js/LifeLikeTerrarium.js"></script>
			<script type="text/javascript" src="js/Dictionary.js"></script>
			<script type="text/javascript" src="js/Bugs.js"></script>
			<script type="text/javascript" src="js/Run.js"></script>
		 <style type="text/css">
            li {
                list-style: none;
                margin: 0;
                padding: 0;
            }
            td {
                width: 10px;
                height: 10px; 
                padding: 2px;
            }
		 </style> 
    
	</head>
	
	<body>
		<h1>Buggy McBuggersons</h1>
		
		<div id="magic">
		    		    
			<span id="one"> </span>
		</div>
		
        <span> 
            <br><form name="stepSize" method="POST">
                
                   <b>Enter Step Size (ms)</b>
                
                <p>
                    <input type="text" id="step" value="300" >                   
                    <br>
                    <input type="button" value="Start" onclick="start();">
                    <input type="button" value="Stop" onclick="stop();">
                    <input type="button" value="Reset" onclick="restart();">
                    <br>

                </p>
            </form>            
            </span>
		<div> 
		    <br>
		  <span id="stats"></span> 
		  
		  
		</div>
         <script type="text/javascript">          
        //refreshes the window every x000 miliseconds
           /* var thePlan =
          ["#####################################################################",
           "#                                                                 o #",
           "#  *                           c                                    #",
           "#                                                                   #",
           "#       c     !                                  *                 *#",
           "#                                      c                            #",
           "#                             $                                     #",
           "#              *                                                    #",
           "#           ########                                                #",
           "#         **#*     #                                                #",
           "#            ######             ~                                   #",
           "#               *             ~   ~                 !               #",
           "#                             ~   ~                                 #",
           "#                               ~                                   #",
           "#      c                                                            #",
           "#                                                                   #",
           "#                                                                   #",
           "# *                                                                 #",
           "#                                        Y                          #",
           "#                             c                                     #",
           "#   *                                 !                             #",
           "#                                                                   #",
           "#                                         c                         #",
           "#*            *                                                    **",
           "#####################################################################"
            ];*/
        var thePlan = ["############################",
                       "#*   o        Y           *#",
                       "#            *        ~    #",
                       "#   !      #####           #",
                       "##        *#   #    ##     #",
                       "###        #*  #     #     #",
                       "#          #####     #     #",
                       "#   ####                c  #",
                       "#   ##*      $             #",
                       "#   #                  #####",
                       "# * #       *             *#",
                       "############################"]; 
                               
        
        
        /*
        var thePlan = ["############################",
                       "#                     ######",
                       "#    ***                **##",
                       "#   *##**         **  c  *##",
                       "#    ***     c    ##**    *#",
                       "#                 ##***   *#",
                       "#                 ##**    *#",
                       "#           #*            *#",
                       "#*          #**           *#",
                       "#***        ##**    Y    **#",
                       "#*****     ###***       *###",
                       "############################"];*/
        
                       
        //var terrarium = new Terrarium(thePlan);                       

        var terrarium = new LifeLikeTerrarium(thePlan);
        paint();     
        var interval = undefined;
        var running = false;
        var timeElapsed = 0;
        var stepsTaken = 0;
        function start(){
            var stepValue = document.forms["stepSize"].elements["step"].value;
            stepValue = Number(stepValue);
            if (typeof stepValue === "number" && !isNaN(stepValue) && running == false){
               interval = window.setInterval(paint, stepValue);
               running = true;
            } else if (running == true){
                return;
             } else {
                 window.alert("Please enter a step size in milliseconds");
                
            }
        }
            
        function stop() {
           interval = window.clearInterval(interval);
           running = false;
        }

        function restart() {
            
            var mydiv = document.getElementById('magic');
                        while (mydiv.firstChild) {
                            mydiv.removeChild(mydiv.firstChild);
                        }                        
                        var newSpan = document.createElement("span");                       
                        newSpan.setAttribute("id", "one");
                        mydiv.appendChild(newSpan);            
           
            terrarium = new LifeLikeTerrarium(thePlan);
            timeElapsed = 0;
            stepsTaken = 0;
            paint();            
            }
          function timer(){                       
                  timeElapsed += +document.forms["stepSize"].elements["step"].value;
                  stepsTaken++;
                  return [timeElapsed,stepsTaken];
                          
          }
        </script>
	</body>
</html>

